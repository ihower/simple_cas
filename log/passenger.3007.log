DEPRECATION WARNING: ActiveRecord::Base.colorize_logging and config.active_record.colorize_logging are deprecated. Please use Rails::LogSubscriber.colorize_logging or config.colorize_logging instead. (called from connect_activerecord at /Users/ihower/projects/simple_cas/lib/castronaut/configuration.rb:73)
==  CreateCasDatabase: migrating ==============================================
-- create_table(:login_tickets, {:force=>true})
   -> 0.0010s
-- create_table(:service_tickets, {:force=>true})
   -> 0.0012s
-- create_table(:ticket_granting_tickets, {:force=>true})
   -> 0.0008s
-- create_table(:proxy_granting_tickets, {:force=>true})
   -> 0.0011s
==  CreateCasDatabase: migrated (0.0043s) =====================================

NoMethodError - undefined method `set_cookie' for #<SimpleCas:0x101e700e8>:
 /Users/ihower/projects/simple_cas/lib/castronaut/presenters/process_login.rb:120:in `represent!'
 ./simple_cas.rb:18:in `POST /login'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `route'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `instance_eval'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `route_eval'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:500:in `route!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `catch'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `route!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `each'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `route!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:601:in `dispatch!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `instance_eval'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `catch'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:399:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/rack-1.2.1/lib/rack/showexceptions.rb:24:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:1005:in `synchronize'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:205:in `start_request_handler'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `send'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `handle_spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/utils.rb:479:in `safe_fork'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:165:in `handle_spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:180:in `start'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:128:in `start'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rack_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:246:in `spawn_rack_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:82:in `synchronize'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/helper-scripts/passenger-spawn-server:99
NoMethodError: undefined method `set_cookie' for #<SimpleCas:0x101e700e8>
	/Users/ihower/projects/simple_cas/lib/castronaut/presenters/process_login.rb:120:in `represent!'
	./simple_cas.rb:18:in `POST /login'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `route'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `instance_eval'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `route_eval'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:500:in `route!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `catch'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `route!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `each'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `route!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:601:in `dispatch!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `instance_eval'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `catch'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:399:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/rack-1.2.1/lib/rack/showexceptions.rb:24:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:1005:in `synchronize'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:205:in `start_request_handler'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `send'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `handle_spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/utils.rb:479:in `safe_fork'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:165:in `handle_spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:180:in `start'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:128:in `start'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rack_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:246:in `spawn_rack_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:82:in `synchronize'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/helper-scripts/passenger-spawn-server:99
NoMethodError - undefined method `set_cookie' for #<SimpleCas:0x1023f0720>:
 /Users/ihower/projects/simple_cas/lib/castronaut/presenters/process_login.rb:120:in `represent!'
 ./simple_cas.rb:18:in `POST /login'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `route'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `instance_eval'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `route_eval'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:500:in `route!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `catch'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `route!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `each'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `route!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:601:in `dispatch!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `instance_eval'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `catch'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:399:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/rack-1.2.1/lib/rack/showexceptions.rb:24:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:1005:in `synchronize'
 /Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:205:in `start_request_handler'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `send'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `handle_spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/utils.rb:479:in `safe_fork'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:165:in `handle_spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:180:in `start'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:128:in `start'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rack_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:246:in `spawn_rack_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:82:in `synchronize'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
 /Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/helper-scripts/passenger-spawn-server:99
NoMethodError: undefined method `set_cookie' for #<SimpleCas:0x1023f0720>
	/Users/ihower/projects/simple_cas/lib/castronaut/presenters/process_login.rb:120:in `represent!'
	./simple_cas.rb:18:in `POST /login'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:863:in `route'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `instance_eval'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:521:in `route_eval'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:500:in `route!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `catch'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:497:in `route!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `each'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:476:in `route!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:601:in `dispatch!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `instance_eval'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `catch'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:566:in `invoke'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:411:in `call!'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:399:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/rack-1.2.1/lib/rack/showexceptions.rb:24:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:1005:in `synchronize'
	/Users/ihower/.rvm/gems/ree-1.8.7-2010.02/gems/sinatra-1.0/lib/sinatra/base.rb:979:in `call'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:205:in `start_request_handler'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `send'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:170:in `handle_spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/utils.rb:479:in `safe_fork'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:165:in `handle_spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:180:in `start'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/rack/application_spawner.rb:128:in `start'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rack_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:246:in `spawn_rack_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:82:in `synchronize'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `__send__'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
	/Users/ihower/.passenger/standalone/3.0.0-x86_64-ruby1.8.7-macosx-10.6/support/helper-scripts/passenger-spawn-server:99
